
  <view class="body">
    <view class="top-search-view">
      <view class="top-inner-search-view">
        <image class="search-icon-image" src="../images/search-icon.png"/>
        <input class="search-input" placeholder-class="placeholder-search-input" placeholder="输入城市名或拼音查询" bindfocus="searchFocus" bindinput="searchInput" value="{{keyword}}"/>
        <image  wx:if="{{keyword.length>0}}" bindtap="handleDeleteKeyword" class="delete-icon-image" src="../images/round-delete-icon.png"/>
      </view>
      <view  wx:if="{{searchFocus}}" bindtap="handleCancel" class="top-cancel-view">取消</view>
    </view>
    <scroll-view wx:if="{{loading}}" style="height:{{scrollHeight}}rpx;width:100%;" scroll-y scroll-into-view="{{scrollIntoView}}">
      <view class="hot-city-label-view" wx:if="{{historyList.length>0 && !searchFocus}}">
        <view class="city-title-label-view">
          <text>历史访问城市</text>
        </view>
        <view class="flex-city-label-view">
          <block wx:for="{{historyList}}" wx:for-index="index" wx:for-item="item" wx:key="index">
            <view bindtap="handleCity" class="item-city-label-view" data-wpyhandlecity-a="{{item}}">{{item.name}}</view>
          </block>
        </view>
      </view>
      <view wx:if="{{!searchFocus}}" class="hot-city-label-view">
        <view class="city-title-label-view">
          <text>热门城市</text>
        </view>
        <view class="flex-city-label-view">
          <block wx:for="{{hotCityList}}" wx:for-index="index" wx:for-item="item" wx:key="index">
            <view bindtap="handleCity" class="item-city-label-view" data-wpyhandlecity-a="{{item}}">{{item.name}}</view>
          </block>
        </view>
      </view>
      <block wx:if="{{!searchFocus}}" wx:for="{{cityList}}" wx:for-index="index" wx:for-item="item" wx:key="index">
        <view>
          <view class="city-letter" id="{{item[0]}}">{{ item[0] }}</view>
          <block wx:for="{{item[1]}}" wx:for-index="_index" wx:for-item="_item" wx:key="_index">
            <view class="city-item" bindtap="handleCity" data-wpyhandlecity-a="{{_item}}">{{ _item.name }}</view>
          </block>
        </view>
      </block>
      <block wx:for="{{searchList}}" wx:for-index="_index" wx:for-item="_item" wx:key="_index">
        <view class="city-item" bindtap="handleCity" data-wpyhandlecity-a="{{_item}}">{{ _item.name }}</view>
      </block>
    </scroll-view>
    <view wx:if="{{!searchFocus}}" class="fixed-right-letter-view" style="top:{{comTop}}rpx;" catchtouchmove="preventTouchMove">
      <view data-index="{{item}}" wx:key="{{index}}" wx:for="{{cityList}}" class="item-letter-view" bindtouchmove="touchmove" bindtouchend="touchend">
        <text class="letter-text {{scrollIntoView == item[0] ? 'letter-actived' : ''}}" bindtap="selectedItem" data-wpyselecteditem-a="{{item}}">{{item[0]}}</text>
      </view>
    </view>
    <view class="fixed-label-letter-view" wx:if="{{scrollIntoView!==''}}">{{scrollIntoView}}</view>
  </view>