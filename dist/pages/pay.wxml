
  <view class="body">
    <view class="warnning-laebel-view">
      <text  wx:if="{{orderInfo.orderState===0}}">请在{{timeLabel[1]}}分{{timeLabel[2]}}秒内完成支付,以免订单失败。</text>
      <text  wx:elif="{{orderInfo.orderState!==0}}">订单已失效</text>
    </view>
    <view class="pay-label-info-view">
      <view class="pay-item-label-view">
        <view class="item-left-title-label-view">支付内容：</view>
        <view class="item-left-text-label-view">{{orderInfo.hotelTitle}}</view>
      </view>
      <view class="pay-item-label-view" style="margin-top:10rpx;">
        <view class="item-left-title-label-view"/>
        <view class="item-left-text-label-view" style="color:#999999;font-size:24rpx;">{{formatDate[0]}}({{getDescribe[0]}}) -- {{formatDate[1]}}({{getDescribe[1]}}) 共{{getDays}}晚</view>
      </view>
      <view class="pay-item-label-view" style="margin-top:20rpx;">
        <view class="item-left-title-label-view">应付总额</view>
        <view class="item-left-text-label-view" style="color:#FF6600;">¥{{orderInfo.payPrice}}</view>
      </view>
    </view>
    <view class="pay-methods-label-view">请选择支付方式</view>
    <block wx:for="{{payMethodList}}" wx:for-index="index" wx:for-item="item" wx:key="index">
      <view class="pay-methods-item-label-view" wx:if="{{item.payChannelCode=='WXA_API'}}">
        <view class="pay-methods-left-label-view">
          <image class="methods-left-img" src="../images/wx-icon-logo.png"/>
          <view class="methods-left-text-view">微信</view>
          <view class="methods-left-price-text-view"/>
        </view>
        <view class="pay-methods-right-label-view">
          <view class="methods-img-view" bindtap="handleMethods" data-wpyhandlemethods-a="{{index}}">
            <image wx:if="{{!item.checked}}" class="methods-right-img" src="../images/round-icon.png"/>
            <image wx:elif="wx:elif" class="methods-right-img" src="../images/round-color-checked-icon.png"/>
          </view>
        </view>
      </view>
      <view class="pay-methods-item-label-view" wx:if="{{item.payChannelCode=='BALANCE'}}">
        <view class="pay-methods-left-label-view">
          <image class="methods-left-img" src="../images/red-balance-icon.png"/>
          <view class="methods-left-text-view">余额</view>
          <view class="methods-left-price-text-view">
            <text style="line-height:130rpx;font-size:20rpx;">¥</text>
            <text>{{getBalance}}</text>
          </view>
        </view>
        <view class="pay-methods-right-label-view">
          <text wx:if="{{orderInfo.payPrice>available}}">余额不足</text>
          <view wx:else>
            <view class="methods-img-view" bindtap="handleMethods" data-wpyhandlemethods-a="{{index}}">
              <image wx:if="{{!item.checked}}" class="methods-right-img" src="../images/round-icon.png"/>
              <image wx:elif="wx:elif" class="methods-right-img" src="../images/round-color-checked-icon.png"/>
            </view>
          </view>
        </view>
      </view>
    </block>
    <view class="fixed-botoom-label-view" bindtap="handlePay">立即付款</view>
    <view wx:if="{{showModal}}" class="modal-mask-dialog" bindtap="hideModal" catchtouchmove="preventTouchMove"/>
    <view wx:if="{{showModal}}" class="fixed-view-dialog" catchtouchmove="preventTouchMove">
      <view class="dialog-inner-input-view">
        <input bindinput="smsCodeInput" value="{{smsCode}}" class="dialog-input" placeholder="请输入验证码" placeholder-style="color:#cccccc;"/>
        <view class="input-label-text-view" wx:if="{{!isOption}}" bindtap="handleGetCode">获取验证码</view>
        <view class="input-label-text-view" style="color:#cccccc;" wx:if="{{isOption}}">{{second}}秒后重试</view>
      </view>
      <view class="dialog-bottom-button-label-view">
        <view class="dialog-button-left-view" bindtap="handleCloseDialog">取消</view>
        <view class="dialog-button-right-view" bindtap="submitCode">确认</view>
      </view>
    </view>
  </view>