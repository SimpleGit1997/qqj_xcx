'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };

// import wepy from 'wepy'

/**
 * 获取，字样金额
 * @param {*} n 数字
 */
function formatNumber(n) {
  var b = parseInt(n).toString();
  var len = b.length;
  if (len <= 3) {
    return b;
  }
  var r = len % 3;
  return r > 0 ? b.slice(0, r) + ',' + b.slice(r, len).match(/\d{3}/g).join(',') : b.slice(r, len).match(/\d{3}/g).join(',');
}

/**
 * 根据当前时间查询月份日期
 * @param {*} currentTime 当前时间
 * @param {*} months 获取几个月
 */
function getMonth() {
  var months = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;

  var monthsArray = [];
  var date = new Date();
  var year = date.getFullYear();
  var month = date.getMonth() + 1;
  for (var j = 0; j < months; j++) {
    var dateObj = {};
    var dateArray = [];
    if (month > 12) {
      month -= 12;
      year += 1;
    }
    dateObj.year = year;
    dateObj.month = month;
    var count = new Date(year, month, 0).getDate();
    for (var i = 1; i <= count; i++) {
      var obj = { value: i };
      dateArray.push(obj);
    }
    month += 1;
    dateObj.dateArray = dateArray;
    monthsArray.push(dateObj);
  }
  // console.log(monthsArray)
  return monthsArray;
}

/**
 * 获取UUID
 * @param {*} len 长度
 * @param {*} radix 基数
 */
function uuid(len, radix) {
  var chars = '0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz'.split('');
  var uuid = [];
  var i = 0;
  radix = radix || chars.length;

  if (len) {
    for (i = 0; i < len; i++) {
      uuid[i] = chars[0 | Math.random() * radix];
    }
  } else {
    var r = void 0;
    uuid[8] = uuid[13] = uuid[18] = uuid[23] = '-';
    uuid[14] = '4';
    for (i = 0; i < 36; i++) {
      if (!uuid[i]) {
        r = 0 | Math.random() * 16;
        uuid[i] = chars[i === 19 ? r & 0x3 | 0x8 : r];
      }
    }
  }
  return uuid.join('');
}

/**
 * 计算时间戳之间的差值
 * @param startTimeStamp 开始时间戳
 * @param endTimeStamp 结束时间戳
 */
function calculateDiffTime(startTimeStamp, endTimeStamp) {
  var startTime = 0;
  var endTime = 0;
  if (startTimeStamp < endTimeStamp) {
    startTime = startTimeStamp / 1000;
    endTime = endTimeStamp / 1000;
  } else {
    startTime = endTimeStamp / 1000;
    endTime = startTimeStamp / 1000;
  }
  var timeDiff = endTime - startTime;
  // var year = Math.floor(timeDiff / 86400 / 365)
  // timeDiff = timeDiff % (86400 * 365)
  // var month = Math.floor(timeDiff / 86400 / 30)
  // timeDiff = timeDiff % (86400 * 30)
  // var day = Math.floor(timeDiff / 86400)
  // timeDiff = timeDiff % 86400
  var hour = Math.floor(timeDiff / 3600);
  timeDiff = timeDiff % 3600;
  var minute = Math.floor(timeDiff / 60);
  timeDiff = timeDiff % 60;
  var second = Math.floor(timeDiff);
  return [hour < 10 ? '0' + hour : hour, minute < 10 ? '0' + minute : minute, second < 10 ? '0' + second : second];
}

/**
 * 深拷贝
 * @param {*} obj1 
 * @param {*} obj2 
 */
function deepCopy(obj1, obj2) {
  var obj = obj2 || {};
  for (var item in obj1) {
    if (_typeof(obj1[item]) === 'object') {
      obj[item] = obj1[item].constructor === Array ? [] : {};
      deepCopy(obj1[item], obj[item]);
    } else {
      obj[item] = obj1[item];
    }
  }
  return obj;
}

exports.formatNumber = formatNumber;
exports.uuid = uuid;
exports.calculateDiffTime = calculateDiffTime;
exports.deepCopy = deepCopy;
exports.getMonth = getMonth;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInV0aWxzLmpzIl0sIm5hbWVzIjpbImZvcm1hdE51bWJlciIsIm4iLCJiIiwicGFyc2VJbnQiLCJ0b1N0cmluZyIsImxlbiIsImxlbmd0aCIsInIiLCJzbGljZSIsIm1hdGNoIiwiam9pbiIsImdldE1vbnRoIiwibW9udGhzIiwibW9udGhzQXJyYXkiLCJkYXRlIiwiRGF0ZSIsInllYXIiLCJnZXRGdWxsWWVhciIsIm1vbnRoIiwiaiIsImRhdGVPYmoiLCJkYXRlQXJyYXkiLCJjb3VudCIsImdldERhdGUiLCJpIiwib2JqIiwidmFsdWUiLCJwdXNoIiwidXVpZCIsInJhZGl4IiwiY2hhcnMiLCJzcGxpdCIsIk1hdGgiLCJyYW5kb20iLCJjYWxjdWxhdGVEaWZmVGltZSIsInN0YXJ0VGltZVN0YW1wIiwiZW5kVGltZVN0YW1wIiwic3RhcnRUaW1lIiwiZW5kVGltZSIsInRpbWVEaWZmIiwiaG91ciIsImZsb29yIiwibWludXRlIiwic2Vjb25kIiwiZGVlcENvcHkiLCJvYmoxIiwib2JqMiIsIml0ZW0iLCJjb25zdHJ1Y3RvciIsIkFycmF5Il0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBOztBQUVBOzs7O0FBSUEsU0FBU0EsWUFBVCxDQUFzQkMsQ0FBdEIsRUFBeUI7QUFDdkIsTUFBSUMsSUFBSUMsU0FBU0YsQ0FBVCxFQUFZRyxRQUFaLEVBQVI7QUFDQSxNQUFJQyxNQUFNSCxFQUFFSSxNQUFaO0FBQ0EsTUFBSUQsT0FBTyxDQUFYLEVBQWM7QUFDWixXQUFPSCxDQUFQO0FBQ0Q7QUFDRCxNQUFJSyxJQUFJRixNQUFNLENBQWQ7QUFDQSxTQUFPRSxJQUFJLENBQUosR0FBUUwsRUFBRU0sS0FBRixDQUFRLENBQVIsRUFBV0QsQ0FBWCxJQUFnQixHQUFoQixHQUFzQkwsRUFBRU0sS0FBRixDQUFRRCxDQUFSLEVBQVdGLEdBQVgsRUFBZ0JJLEtBQWhCLENBQXNCLFFBQXRCLEVBQWdDQyxJQUFoQyxDQUFxQyxHQUFyQyxDQUE5QixHQUEwRVIsRUFBRU0sS0FBRixD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QSxRO1FBQ0FqQyxRLEdBQUFBLFEiLCJmaWxlIjoidXRpbHMuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBpbXBvcnQgd2VweSBmcm9tICd3ZXB5J1xuXG4vKipcbiAqIOiOt+WPlu+8jOWtl+agt+mHkeminVxuICogQHBhcmFtIHsqfSBuIOaVsOWtl1xuICovXG5mdW5jdGlvbiBmb3JtYXROdW1iZXIobikge1xuICB2YXIgYiA9IHBhcnNlSW50KG4pLnRvU3RyaW5nKClcbiAgdmFyIGxlbiA9IGIubGVuZ3RoXG4gIGlmIChsZW4gPD0gMykge1xuICAgIHJldHVybiBiXG4gIH1cbiAgdmFyIHIgPSBsZW4gJSAzXG4gIHJldHVybiByID4gMCA/IGIuc2xpY2UoMCwgcikgKyAnLCcgKyBiLnNsaWNlKHIsIGxlbikubWF0Y2goL1xcZHszfS9nKS5qb2luKCcsJykgOiBiLnNsaWNlKHIsIGxlbikubWF0Y2goL1xcZHszfS9nKS5qb2luKCcsJylcbn1cblxuLyoqXG4gKiDmoLnmja7lvZPliY3ml7bpl7Tmn6Xor6LmnIjku73ml6XmnJ9cbiAqIEBwYXJhbSB7Kn0gY3VycmVudFRpbWUg5b2T5YmN5pe26Ze0XG4gKiBAcGFyYW0geyp9IG1vbnRocyDojrflj5blh6DkuKrmnIhcbiAqL1xuZnVuY3Rpb24gZ2V0TW9udGgobW9udGhzID0gMSkge1xuICBsZXQgbW9udGhzQXJyYXkgPSBbXVxuICBsZXQgZGF0ZSA9IG5ldyBEYXRlKClcbiAgbGV0IHllYXIgPSBkYXRlLmdldEZ1bGxZZWFyKClcbiAgbGV0IG1vbnRoID0gZGF0ZS5nZXRNb250aCgpICsgMVxuICBmb3IgKGxldCBqID0gMDsgaiA8IG1vbnRoczsgaisrKSB7XG4gICAgbGV0IGRhdGVPYmogPSB7fVxuICAgIGxldCBkYXRlQXJyYXkgPSBbXVxuICAgIGlmIChtb250aCA+IDEyKSB7XG4gICAgICBtb250aCAtPSAxMlxuICAgICAgeWVhciArPSAxXG4gICAgfVxuICAgIGRhdGVPYmoueWVhciA9IHllYXJcbiAgICBkYXRlT2JqLm1vbnRoID0gbW9udGhcbiAgICBsZXQgY291bnQgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgMCkuZ2V0RGF0ZSgpXG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gY291bnQ7IGkrKykge1xuICAgICAgbGV0IG9iaiA9IHt2YWx1ZTppfVxuICAgICAgZGF0ZUFycmF5LnB1c2gob2JqKVxuICAgIH1cbiAgICBtb250aCArPSAxXG4gICAgZGF0ZU9iai5kYXRlQXJyYXkgPSBkYXRlQXJyYXlcbiAgICBtb250aHNBcnJheS5wdXNoKGRhdGVPYmopXG4gIH1cbiAgLy8gY29uc29sZS5sb2cobW9udGhzQXJyYXkpXG4gIHJldHVybiBtb250aHNBcnJheVxufVxuXG4vKipcbiAqIOiOt+WPllVVSURcbiAqIEBwYXJhbSB7Kn0gbGVuIOmVv+W6plxuICogQHBhcmFtIHsqfSByYWRpeCDln7rmlbBcbiAqL1xuZnVuY3Rpb24gdXVpZChsZW4sIHJhZGl4KSB7XG4gIGxldCBjaGFycyA9ICcwMTIzNDU2Nzg5QUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5eicuc3BsaXQoJycpXG4gIGxldCB1dWlkID0gW11cbiAgbGV0IGkgPSAwXG4gIHJhZGl4ID0gcmFkaXggfHwgY2hhcnMubGVuZ3RoXG5cbiAgaWYgKGxlbikge1xuICAgIGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykgdXVpZFtpXSA9IGNoYXJzWzAgfCBNYXRoLnJhbmRvbSgpICogcmFkaXhdXG4gIH0gZWxzZSB7XG4gICAgbGV0IHJcbiAgICB1dWlkWzhdID0gdXVpZFsxM10gPSB1dWlkWzE4XSA9IHV1aWRbMjNdID0gJy0nXG4gICAgdXVpZFsxNF0gPSAnNCdcbiAgICBmb3IgKGkgPSAwOyBpIDwgMzY7IGkrKykge1xuICAgICAgaWYgKCF1dWlkW2ldKSB7XG4gICAgICAgIHIgPSAwIHwgTWF0aC5yYW5kb20oKSAqIDE2XG4gICAgICAgIHV1aWRbaV0gPSBjaGFyc1soaSA9PT0gMTkpID8gKHIgJiAweDMpIHwgMHg4IDogcl1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHV1aWQuam9pbignJylcbn1cblxuLyoqXG4gKiDorqHnrpfml7bpl7TmiLPkuYvpl7TnmoTlt67lgLxcbiAqIEBwYXJhbSBzdGFydFRpbWVTdGFtcCDlvIDlp4vml7bpl7TmiLNcbiAqIEBwYXJhbSBlbmRUaW1lU3RhbXAg57uT5p2f5pe26Ze05oizXG4gKi9cbmZ1bmN0aW9uIGNhbGN1bGF0ZURpZmZUaW1lKHN0YXJ0VGltZVN0YW1wLCBlbmRUaW1lU3RhbXApIHtcbiAgbGV0IHN0YXJ0VGltZSA9IDBcbiAgbGV0IGVuZFRpbWUgPSAwXG4gIGlmIChzdGFydFRpbWVTdGFtcCA8IGVuZFRpbWVTdGFtcCkge1xuICAgIHN0YXJ0VGltZSA9IHN0YXJ0VGltZVN0YW1wIC8gMTAwMFxuICAgIGVuZFRpbWUgPSBlbmRUaW1lU3RhbXAgLyAxMDAwXG4gIH0gZWxzZSB7XG4gICAgc3RhcnRUaW1lID0gZW5kVGltZVN0YW1wIC8gMTAwMFxuICAgIGVuZFRpbWUgPSBzdGFydFRpbWVTdGFtcCAvIDEwMDBcbiAgfVxuICB2YXIgdGltZURpZmYgPSBlbmRUaW1lIC0gc3RhcnRUaW1lXG4gIC8vIHZhciB5ZWFyID0gTWF0aC5mbG9vcih0aW1lRGlmZiAvIDg2NDAwIC8gMzY1KVxuICAvLyB0aW1lRGlmZiA9IHRpbWVEaWZmICUgKDg2NDAwICogMzY1KVxuICAvLyB2YXIgbW9udGggPSBNYXRoLmZsb29yKHRpbWVEaWZmIC8gODY0MDAgLyAzMClcbiAgLy8gdGltZURpZmYgPSB0aW1lRGlmZiAlICg4NjQwMCAqIDMwKVxuICAvLyB2YXIgZGF5ID0gTWF0aC5mbG9vcih0aW1lRGlmZiAvIDg2NDAwKVxuICAvLyB0aW1lRGlmZiA9IHRpbWVEaWZmICUgODY0MDBcbiAgdmFyIGhvdXIgPSBNYXRoLmZsb29yKHRpbWVEaWZmIC8gMzYwMClcbiAgdGltZURpZmYgPSB0aW1lRGlmZiAlIDM2MDBcbiAgdmFyIG1pbnV0ZSA9IE1hdGguZmxvb3IodGltZURpZmYgLyA2MClcbiAgdGltZURpZmYgPSB0aW1lRGlmZiAlIDYwXG4gIHZhciBzZWNvbmQgPSBNYXRoLmZsb29yKHRpbWVEaWZmKVxuICByZXR1cm4gW2hvdXIgPCAxMCA/ICcwJyArIGhvdXIgOiBob3VyLCBtaW51dGUgPCAxMCA/ICcwJyArIG1pbnV0ZSA6IG1pbnV0ZSwgc2Vjb25kIDwgMTAgPyAnMCcgKyBzZWNvbmQgOiBzZWNvbmRdXG59XG5cbi8qKlxuICog5rex5ou36LSdXG4gKiBAcGFyYW0geyp9IG9iajEgXG4gKiBAcGFyYW0geyp9IG9iajIgXG4gKi9cbmZ1bmN0aW9uIGRlZXBDb3B5KG9iajEsIG9iajIpIHtcbiAgbGV0IG9iaiA9IG9iajIgfHwge31cbiAgZm9yIChsZXQgaXRlbSBpbiBvYmoxKSB7XG4gICAgaWYgKHR5cGVvZiBvYmoxW2l0ZW1dID09PSAnb2JqZWN0Jykge1xuICAgICAgb2JqW2l0ZW1dID0gb2JqMVtpdGVtXS5jb25zdHJ1Y3RvciA9PT0gQXJyYXkgPyBbXSA6IHt9XG4gICAgICBkZWVwQ29weShvYmoxW2l0ZW1dLCBvYmpbaXRlbV0pXG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtpdGVtXSA9IG9iajFbaXRlbV1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9ialxufVxuXG5leHBvcnQge1xuICBmb3JtYXROdW1iZXIsXG4gIHV1aWQsXG4gIGNhbGN1bGF0ZURpZmZUaW1lLFxuICBkZWVwQ29weSxcbiAgZ2V0TW9udGhcbn1cbiJdfQ==